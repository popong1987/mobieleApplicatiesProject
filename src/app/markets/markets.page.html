<ion-header>
  <ion-toolbar>
    <ion-title>Markets</ion-title>
  </ion-toolbar>

  <ion-toolbar>
    <ion-segment [scrollable]="true" (ionChange)="segmentChanged()" [(ngModel)]="selectedSegment">
      <ion-segment-button [value]="segments[0]">
        {{segments[0]}}
      </ion-segment-button>
      <ion-segment-button [value]="segments[1]">
        {{segments[1]}}
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
</ion-header>

<ion-content>
  <swiper [config]="config" (activeIndexChange)="onActiveIndexChange()">
    <ng-template swiperSlide>
      <ion-card *ngFor="let c of allCoins |async; let i = index"
            [routerLink]="['/markets', 'markets-detail', c.id]">
        <ion-grid>
          <ion-row>
            <ion-col size="2">
              <img [src]="c.image"/>
            </ion-col>
            <ion-col>
              <ion-card-title>{{c.symbol}}</ion-card-title>
              <ion-card-subtitle>
                {{c.name}}
              </ion-card-subtitle>
            </ion-col>
            <ion-col size="auto">
              {{c.current_price.toString()}}
            </ion-col>
          </ion-row>
          <ion-row size="auto">
            <ion-col offset="2">

            </ion-col>
            <ion-col size="auto">
              {{c.price_change_percentage_24h.toString()}} %
            </ion-col>
          </ion-row>

        </ion-grid>

      </ion-card>
    </ng-template>

    <ng-template swiperSlide>
      <ion-card *ngFor="let c of marketsService.showFavorites |async; let i = index"
                [routerLink]="['/markets', 'markets-detail', c.id]">
        <ion-grid>
          <ion-row>
            <ion-col size="2">
              <img [src]="c.image"/>
            </ion-col>
            <ion-col>
              <ion-card-title>{{c.symbol}}</ion-card-title>
              <ion-card-subtitle>
                {{c.name}}
              </ion-card-subtitle>
            </ion-col>
            <ion-col size="auto">
              {{c.current_price.toString()}}
            </ion-col>
          </ion-row>
          <ion-row size="auto">
            <ion-col offset="2">

            </ion-col>
            <ion-col size="auto">
              {{c.price_change_percentage_24h.toString()}} %
            </ion-col>
          </ion-row>

        </ion-grid>

      </ion-card>
    </ng-template>



  </swiper>


</ion-content>
